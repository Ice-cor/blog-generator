---
title: 面试分享一
date: 2018-06-07 05:51:22
tags: js
---

觉得前端基础知识已经巩固的差不多，最近已经在准备使用框架的项目了。忙里偷闲去了几个公司面试，验证下阶段性的学习成果，现在来总结分享下~


## 公司一

这个公司主要做体育方面的，有自营的APP，前端工作主要是把活动页面对接到APP上，后续计划完善公众号的内容页以及小程序的开发，前端技术框架主要用到的是vue。

因为提前了解过公司的技术架构，所以面试前也复习了下vue的知识，太久没用都忘得才差不多拉~现在看vue跟以前看vue差别还真是大。。。

没有笔试，所有的题现场出。

开始进入正题。

## 一面

> 以前在公司使用过什么框架？

答：react、vue、react-native都使用过，虽然能完成项目，但使用过程中比较迷惑，感觉只是单纯的用框架API而已，对于深层次的原理不能理解，因为缺乏前端的整体认知，而使用框架对前端基础知识水平要求比较高；

虽然也对框架涉及到的知识有去学习，像es6、webpack、MV*、模块化等等，但因为是零基础转行的，所以理解起来也是不成体系的，归根到底也就是js基础不扎实；

所以辞职后，为了能深入的理解框架，就大量的补充了前端方面的基础知识，主要是js方面的，还有http、命令行、node、MV*思想、模块化、webpack等等。

> 回复：能找到自身的不足去弥补，很不错。

> 你简历上写做过移动端适配，那你是怎么做的？

答：主要是通过动态rem + 媒体查询 + SASS实现的。

> 动态rem是什么？

答：首先rem可以根据根元素的font-size来换算的，根元素如果设置font-size：20px的话，那么1rem就是20px的大小。我一般先把根元素设成20px，然后根据页面宽度，用js来按比例计算根元素大小，这样页面上用到rem单位的元素大小都会相应的改变，移动端适配方面我在博客有记录的。

>position的几种定位有什么区别？

答：fixed固定定位，是相对视口定位的；absolute绝对定位，是相对最近的祖先带有position样式的元素定位的，如果没有position样式，则相对于body；relative相对定位嘛。。。好像是相对与自身原来的位置。

>回复：嗯，relative相对定位会在原来的位置仍占用位置，不会脱离文档（还画了个图让我好理解。。。学习到了。。。）。

ps：其实我回答的有错，回来查了MDN的文档，absolute绝对定位是相对于最近的非 static 祖先元素定位，static就是position的默认值。还有一个自己没有用到的sticky粘性定位，是相对定位和绝对定位的混合，通过是否超过阀值来确定是哪种定位，可用来做粘性导航的，MDN上有例子，有兴趣的可以自行尝试一下。

>你用过flex是吧，那解释下flex是什么？

答：flex是弹性盒子，可以根据页面大小自由伸缩，在移动端适配上很好用。

>PC端不能用了？

答：能用的能用的。。。

>那有什么属性，具体怎么用的？

答：默认flex-direction是row横向布局的，如果为row，那么justify-content表示横向布局的排布，space-between是两端对齐，space-around是，额。。。元素间距一样的那种对齐方式（不知道怎么描述这种对齐方式，其实是每个项目两侧的间隔相等，所以，项目之间的间隔比项目与边框的间隔大一倍 by阮一峰）；还有align-items，竖直方向的排布，一般用center来做居中的。

ps：虽然没有说的完全，但使用还是没问题的，因为现在基本上都用flex啦，附上阮一峰的flex教程 [flex教程](http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html?^%$)

>给我画了个图，就是经典双飞翼布局，两边固定宽度，中间自适应那种，问我怎么实现。

答：用flex很好解决，两边固定宽度，中间用flex：1自适应。

>还有其他方式吗？

答：（想了一会），两边固定，中间用calc属性计算，父级100%的宽度减去两边的宽度。

ps：面试官挺满意的，可能没想到用计算属性来做。其实还有一种用margin的古老方法，比较繁琐，有兴趣自行搜索双飞翼布局。

>手写了题，关于this的，代码大概如下。

```javascript
function fn1(){
    console.log(this) //?
}
function fn2(){
    fn1()
}
fn2()
```

答：this为window对象，然后说了下确定this的几种方式，还有严格模式下不会自动指向window对象，会是undefined，最后说博客有总结，有兴趣可以去看一下。

>闭包了解吗？

答：说这个博客上有总结过的。闭包就是作用域的副产物，算是一道沟通内外函数的桥梁吧，因为作用域规则是内部向外部查找变量，而外部函数是得不到内部函数变量的，然后使用闭包就能间接的拿到内部函数的变量。

>应用在哪里呢？

答：额。。可以隐藏变量，封装对象的私有属性和方法，模块化也有用到。。。

>模块化嘛~嗯嗯。

>然后又手写了一道题

```javascript

for(var i = 0; i < 6; i++){
    event[i].onclick = function(){
        console.log(i) //?
    }
}
```

答：这是作用域方面的问题，在博客也有做总结的。i是6，每个所点击的元素都是6，可以通过创造一个函数作用域来解决，或者把var改成let，限定一下变量i的作用域范围。

>继续手写题目

```javascript
console.log(1)
setTimeout(function(){
    console.log(2)
})
console.log(3)
//结果是怎样？
```

答：1 3 2。因为setTimeout是异步的，所以在同步代码执行完毕后才会执行。

>那么变一下

```javascript
console.log(1)
function fn(){
    new Promise(function(){
        console.log(2)
    })
}
fn()
console.log(3)
```

不假思索的答：结果一样啊，1 3 2。

>（一脸坏笑看着我）嘿嘿，不对，在仔细看看。

答：啊啊啊，看错了，因为之前用Promise都是管理回调用的，传入Promise对象的函数仍然是同步，结果是 1 2 3。。。

>前端做过那些优化？

答：图片压缩是最基本的了，然后用过font-spider来切割字体（面试官貌似没听过），我解释了下 => 因为设计引入了外部字体，字体包体积有6M多，如果放到生产环境那不得慢死，所以找到了font-spider的解决方案，就是可以只保留页面上所用到的静态字体，其余没用到的都摒弃掉，最后字体包大小变成了几百K。然后还有代码压缩，减少dom操作什么的。

ps：前端优化其实还有很多，以前有做过的就这些，实话实说了。现在能想到的还有catch-contol添加缓存，懒加载、cdn加速、减少请求数量等等。具体得看性能瓶颈出在哪里，如果是后端响应时间长，那么前端怎么优化也没用是吧~

>es6用过吗？

答：用过啊，let const是最基本的了，还有import、export、Promise、箭头函数、模版字符串、三个点的那个。。。（扩展运算符）、解构赋值、Set数据结构。

>那个as。。。什么的也要了解下（async：异步的 读音：鹅兴克；）

回答：嗯嗯。有做过了解的，只是平时都用Promise来管理回调函数。

PS：回来总结了下

```javascript
//平时用Promise管理回调函数

function sleep(second){
    return new Promise((resolve,reject)=>{
        setTimeout(()=>{
            if(second === 2000){//模拟异步成功
                resolve.call(undefined,'success')
            }else{//模拟异步失败
                reject.call(undefined,'error')
            }
        },second)
    })
}

sleep(2000).then(
    (success)=>{
        console.log(success)
    },
    (error)=>{
        console.log(error)
    }
)
//如果传入值为2000，则三秒后打印出'success',否则打印出'error'
//虽然一定程度上避免了ES5回调地狱的情况，但是代码还是不够直观的

/**********async/await**********/

function sleep(second){
    return new Promise((resolve,reject)=>{
        setTimeout(()=>{
            if(second === 2000){//模拟异步成功
                resolve.call(undefined,'success')
            }else{//模拟异步失败
                reject.call(undefined,'error')
            }
        },second)
    })
}

async function x(second){
    let result = await sleep(second)
    //await等异步成功后，把结果传给result
    //这里有一个用法就是把异步变成了同步，即异步执行完成后才能执行后面的代码
    console.log(result)
}

x(2000) // 打印出'success'

//错误处理，用try catch
async function x(second){
    try {
        let result = await sleep(second)
        console.log(result)  
    } catch (error){
        console.log(error)
    }
}

x(3000)// 打印出'error'
x(3000).then(()=>{console.log('nihao')})
//三秒后，打印出'error'，接着打印出'nihao'


//这样对有更广的适用行
//更具有语义化，结构清晰
//而且async返回的是Promise对象，后面可以接上then的使用
//更多的用法得大家自己去深挖拉
```

**感觉一面还行，还算比较满意。事后得知面试官对我的印象也不错，一面过了**

## 二面

一面是前端负责人，二面呢是技术总监，不过可能是因为做后端的，所以问的问题比较简单。

>给了我一个需求，让我去实现。需求大概是：后端给比赛的数据，你怎么把数据按时间排序之类的，分了今天、明天、5月20号、5月21号等等。

<center><img src="https://s1.ax2x.com/2018/06/07/RsNvG.jpg" alt="灵魂画手风格" border="0" /></center>

因为还没有做过这样的需求，我想了会，说这个首先得看后端传的数据是怎样的吧，如果后端json数据做好了，那前端比较省事，直接渲染数据就好了，可能需要转译下的是今天和明天这两个日期，通过日期比对就行了。然后前端作下拉刷新，跟后端商量好给数据的条数。

如果后端数据给了一大堆数据，让前端筛选，暂时就没有想到太好的办法，目前能想到用for循环来跟日期做比对，然后做筛选排序了。

PS：其实可以用算法来解决，但是到目前为止对算法也是了解过而已，知道大概的原理，具体其实还是得看后端传的数据结构是怎样的。而且前端也不适合做太复杂的运算，会影响页面的性能，一般来说后端把数据处理好后给前端会比较好。

>额。。后端应该是把数据处理好的。。。

>http请求如果是同步会怎么样？

答：那么拖慢页面加载的速度，因为后面的函数必须得等结果返回才能执行了。

>http状态码200和500代表什么？

答：200请求成功，500服务端出错。

**问题不是太难，第一个问题二面面试官可能也没有考虑周全，不知道大家还有没有更好的答案呢~二面也顺利通过了**

## 三面HR面

>为什么转行？

>平时是怎么学习的？

>前两位面试官给你的感觉怎么样？

>上一份工作为什么离职？

>薪资要求？

这些问题见仁见智啦~


## 结果

结果挂了 T T，挂在HR那面，后面有去发邮件询问原因的也没有明说。。。

总的来说这次面试倾向于基础知识方面的，这方面准备的也比较充足，所以答的还行，技术问题细节可能有些出入，但知识点没有多大问题的。

分享给大家以作参考，如有错漏希望大家能帮我指正下~

